---
layout: none
permalink: /themilitarywallet/va-loan
---
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<style>
  :root{
    --thrifty-calculator-primary-color: #0e1b56;
    --thrifty-calculator-primary-accent-color: #a3b1c8;
    --thrifty-calculator-secondary-color: #333;
    --thrifty-calculator-background-color: white;
    --thrifty-calculator-error-color: #ac162c;
    --thrifty-calculator-line-color: lightgray;
    --thrifty-calculator-font: 'Arial', sans-serif;
    --thrifty-calculator-chart-color-1: #091D40;
    --thrifty-calculator-chart-color-2: #323E94;
    --thrifty-calculator-chart-color-3: #A8B1C2;
    --thrifty-calculator-chart-color-4: var(--thrifty-calculator-line-color);
  }
  .thrifty-calculators-calculator {
    font-size: 16px;
    font-family: var(--thrifty-calculator-font);
    width: 80vw;
    margin: 2rem auto;
  }
  .thrifty-calculators-calculator .calculator-container {
    display: flex;
    flex-wrap: wrap;
    align-items: baseline;
    justify-content: space-between;
  }
  .thrifty-calculators-calculator .calculator-inputs,
  .thrifty-calculators-calculator .calculator-result,
  .thrifty-calculators-calculator .calculator-cta {
    flex: 0 0 100%;
  }
  .thrifty-calculators-calculator .calculator-cta {
    margin: 4rem 0 2rem;
    text-align: center;
  }
  .thrifty-calculators-calculator .calculator-cta a {
    padding: 1rem;
    background-color: var(--thrifty-calculator-chart-color-1);
    border: 1px solid var(--thrifty-calculator-line-color);
    color: white;
    text-decoration: none;
    text-transform: uppercase;
    transition: background-color 150ms ease-in-out,
                border-color 150ms ease-in-out;
  }
  .thrifty-calculators-calculator .calculator-cta a:hover,
  .thrifty-calculators-calculator .calculator-cta a:focus {
    border-color: var(--thrifty-calculator-primary-color);
    background-color: var(--thrifty-calculator-chart-color-2);
    outline: none;
  }
  .thrifty-calculators-calculator div.calculator-title {
    font-size: 1.125rem;
    color: var(--thrifty-calculator-primary-color);
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--thrifty-calculator-line-color);
    margin: 1rem 0;
  }
  .thrifty-calculators-calculator div.calculator-group-title {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--thrifty-calculator-line-color);
  }
  .thrifty-calculators-calculator .calculator-field {
    margin: 1rem 0;
  }
  .thrifty-calculators-calculator .calculator-field--inline {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
  }
  .thrifty-calculators-calculator .calculator-field label {
    flex: 2 0 50%;
    min-width: 50%;
    display: flex;
    font-size: 0.9rem;
  }
  .thrifty-calculators-calculator .calculator-field .calculator-value input + label {
    padding-left: 0.25rem;
    font-size: 0.8rem;
  }
  .thrifty-calculators-calculator .calculator-field label.chart-legend-item:before {
    content: '';
    display: inline-block;
    width: 0.8rem;
    height: 0.8rem;
    margin-right: 0.25rem;
    border: 1px solid var(--thrifty-calculator-line-color);
  }
  .thrifty-calculators-calculator .calculator-field label.chart-legend-item.color1:before {
    background-color: var(--thrifty-calculator-chart-color-1)
  }
  .thrifty-calculators-calculator .calculator-field label.chart-legend-item.color2:before {
    background-color: var(--thrifty-calculator-chart-color-2)
  }
  .thrifty-calculators-calculator .calculator-field label.chart-legend-item.color3:before {
    background-color: var(--thrifty-calculator-chart-color-3)
  }
  .thrifty-calculators-calculator .calculator-field label.chart-legend-item.color4:before {
    background-color: var(--thrifty-calculator-chart-color-4)
  }

  .thrifty-calculators-calculator .calculator-field .calculator-value {
    flex: 1 0 auto;
    border: 1px solid var(--thrifty-calculator-line-color);border-color:
    margin: 0.25rem 0;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    transition: border-color 150ms ease-in-out;
  }
  .thrifty-calculators-calculator .calculator-field .calculator-value:focus-within {
    border-color: var(--thrifty-calculator-primary-color);
  }
  .thrifty-calculators-calculator .calculator-field .calculator-value--output,
  .thrifty-calculators-calculator .calculator-field .calculator-value--output:focus-within,
  .thrifty-calculators-calculator .calculator-field .calculator-value--radio,
  .thrifty-calculators-calculator .calculator-field .calculator-value--radio:focus-within {
    border-color: transparent;
  }

  .thrifty-calculators-calculator .calculator-field .calculator-value .input-prefix,
  .thrifty-calculators-calculator .calculator-field .calculator-value .input-suffix {
    flex: 0 0 auto;
    color: var(--thrifty-calculator-line-color);
    font-size: 0.8rem;
    padding: 0.5rem;
  }

  .thrifty-calculators-calculator .calculator-field .calculator-value select,
  .thrifty-calculators-calculator .calculator-field .calculator-value input {
    flex: 1 0 auto;
    font-size: 0.8rem;
    border: none;
    padding: 0.5rem 0;
  }
  .thrifty-calculators-calculator .calculator-field .calculator-value select:hover,
  .thrifty-calculators-calculator .calculator-field .calculator-value select:focus,
  .thrifty-calculators-calculator .calculator-field .calculator-value input:hover,
  .thrifty-calculators-calculator .calculator-field .calculator-value input:focus {
    outline: none;
  }
  .thrifty-calculators-calculator .calculator-field input.percent {
    text-align: right;
  }
  input[type=number]:read-only::-webkit-inner-spin-button,
  input[type=number]:read-only::-webkit-outer-spin-button {
    -webkit-appearance: none;
  }

  input[type=number]:read-only {
    -moz-appearance: textfield;
  }

  .thrifty-calculators-calculator .calculator-field .calculator-value select {
    flex: 1 0 100%;
    font-size: 0.8rem;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding: 0.5em 2em 0.5em 0.5em;
    color: black;
    border: none;
    background-color: var(--thrifty-calculator-background-color);
    transition: background-color 150ms, border-color 150ms;
    /* Arrow */
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
  	background-repeat: no-repeat, repeat;
  	background-position: right .7em top 50%, 0 0;
  	background-size: .65em auto, 100%;
    cursor: pointer;
    width: auto;
  }
  .thrifty-calculators-calculator .calculator-field[data-error]:after {
    flex: 0 0 100%;
    font-size: 0.8rem;
    content: attr(data-error);
    color: var(--thrifty-calculator-error-color);
    margin-bottom: 1em;
  }
  .thrifty-calculators-calculator .calculator-field[data-error] .calculator-value {
    border-color: var(--thrifty-calculator-error-color);
  }
  .thrifty-calculators-calculator .calculator-field .calculator-button-set {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .thrifty-calculators-calculator .calculator-field .calculator-button-set span,
  .thrifty-calculators-calculator .calculator-field .calculator-button-set button {
    font-size: 0.7rem;
  }
  .thrifty-calculators-calculator .calculator-field .calculator-button-set button {
    border: 1px solid var(--thrifty-calculator-line-color);
    background-color: white;
    padding: 0.5rem;
    transition: border-color 150ms ease-in-out;
  }

  .thrifty-calculators-calculator .calculator-field .calculator-button-set button:hover,
  .thrifty-calculators-calculator .calculator-field .calculator-button-set button:focus {
    border-color: var(--thrifty-calculator-primary-color);
    outline: none;
  }

  .thrifty-calculators-calculator .calculator-field .calculator-button-set button:active {
    background-color: var(--thrifty-calculator-primary-accent-color);
  }
  @media screen and (min-width: 768px) {
    .thrifty-calculators-calculator .calculator-container {
      border: 1px solid var(--thrifty-calculator-line-color);
      padding: 2rem;
    }

    .thrifty-calculators-calculator div.calculator-title {
      font-size: 1.5rem;
      border-color: transparent;
    }
    .thrifty-calculators-calculator .calculator-inputs {
      flex-basis: calc(50% - 2rem - 1px);
      padding: 0 0 0 0;
    }
    .thrifty-calculators-calculator .calculator-result {
      flex-basis: calc(50% - 2rem - 1px);
      border-left: 1px solid var(--thrifty-calculator-line-color);
      padding: 0 0 0 2rem;
    }
  }
</style>
<div class="thrifty-calculators-calculator" id="va-mortgage-calculator">
  <div class="calculator-title">VA Loan Calculator</div>
  <div class="calculator-container">
    <div class="calculator-inputs">
      <div class="calculator-group">
        <div class="calculator-field">
          <label for="loan-type">VA Loan Type</label>
          <div class="calculator-value">
            <select name="loan-type" id="loan-type">
              <option value="home-purchase" selected="selected">Home Purchase</option>
              <option value="rate-reduction">Interest Rate Reduction Refinance</option>
              <option value="cash-out">Cash-Out Refinance</option>
              <option value="manufactured">Manufactured Home Loan</option>
              <option value="assumption">Loan Assumption</option>
            </select>
          </div>
        </div>
        <div class="calculator-field">
          <label for="service-type">Type of Service</label>
          <div class="calculator-value">
            <select name="service-type" id="service-type">
              <option value="regular-military" selected="selected">Regular Military</option>
              <option value="reserves-national-guard">Reserves/National Guard</option>
              <option value="surviving-spouse">Surviving Spouse</option>
            </select>
          </div>
        </div>
        <div class="calculator-field">
          <label for="home-value">Home Value</label>
          <div class="calculator-value">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="home-value" id="home-value" value="300000" min="0" step="1000" />
          </div>
        </div>
        <div class="calculator-field">
          <label for="down-payment">Down Payment (<span id="down-payment-percent">20.0%</span>)</label>
          <div class="calculator-value">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="down-payment" id="down-payment" value="60000" min="0" step="1000" />
          </div>
          <label></label>
          <div class="calculator-button-set" id="down-payment-percent-button-set">
            <span>Set to:</span>
            <button>0%</button>
            <button>5%</button>
            <button>10%</button>
            <button>20%</button>
          </div>
        </div>
        <div class="calculator-field">
          <label for="va-disabled">Are you VA Disabled?<br>(10% Disability rating or higher)</label>
          <div class="calculator-value calculator-value--radio">
            <input name="va-disabled" type="radio" id="va-disabled-yes" value=true>
            <label for="va-disabled-yes">Yes</label>
            <input name="va-disabled" type="radio" id="va-disabled-no" value=false checked>
            <label for="va-disabled-no">No</label>
          </div>
        </div>
        <div class="calculator-field">
          <label for="prev-va-loan">Have you used a VA Loan before?</label>
          <div class="calculator-value calculator-value--radio">
            <input name="prev-va-loan" type="radio" id="prev-va-loan-yes" value=true>
            <label for="prev-va-loan-yes">Yes</label>
            <input name="prev-va-loan" type="radio" id="prev-va-loan-no" value=false checked>
            <label for="prev-va-loan-no">No</label>
          </div>
        </div>
        <div class="calculator-field">
          <label for="va-loan-fees">VA Loan Fees</label>
          <div class="calculator-value calculator-value--output">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="va-loan-fees" id="va-loan-fees" value="0.00" readonly/>
          </div>
        </div>
        <div class="calculator-field">
          <label for="mortgage-amount">Total Amount Financed</label>
          <div class="calculator-value calculator-value--output">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="mortgage-amount" id="mortgage-amount" value="240000" readonly/>
          </div>
        </div>
      </div>
      <div class="calculator-group">
        <div class="calculator-field">
          <label for="rate">Interest Rate</label>
          <div class="calculator-value">
            <input type="number" class="percent" name="rate" id="rate" value="3.750" min="0.0" max="15.0" step="0.125"/>
            <span class="input-suffix">%</span>
          </div>
        </div>
      </div>
      <div class="calculator-group" id="term-group">
        <div class="calculator-field">
          <label for="term">Term</label>
          <div class="calculator-value">
            <select name="term">
              <option value="480">40 years (480 months)</option>
              <option value="360" selected="selected">30 years (360 months)</option>
              <option value="240">20 years (240 months)</option>
              <option value="180">15 years (180 months)</option>
              <option value="120">10 years (120 months)</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <div class="calculator-result">
      <div class="calculator-field-group">
        <div class="calculator-group-title">Monthly Payment</div>
        <div class="calculator-chart" id="monthly-payment-chart"></div>
        <div class="calculator-field calculator-field--inline">
          <label for="monthly-payment" class="chart-legend-item color1">Principal & Interest</label>
          <div class="calculator-value calculator-value--output">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="monthly-payment" id="monthly-payment" value="1044" readonly/>
          </div>
        </div>
        <div class="calculator-field calculator-field--inline">
          <label for="property-tax" class="chart-legend-item color2">Property Taxes</label>
          <div class="calculator-value">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="property-tax" id="property-tax" value="0" />
          </div>
        </div>
        <div class="calculator-field calculator-field--inline">
          <label for="insurance" class="chart-legend-item color3">Homeowner's Insurance</label>
          <div class="calculator-value">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="insurance" id="insurance" value="0" />
          </div>
        </div>
        <div class="calculator-field calculator-field--inline">
          <label for="hoa-fees" class="chart-legend-item color4">HOA Fees</label>
          <div class="calculator-value">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="hoa-fees" id="hoa-fees" value="0" />
          </div>
        </div>
        <div class="calculator-field calculator-field--inline">
          <label for="total-monthly-payment"><strong>Total Monthly Payment</strong></label>
          <div class="calculator-value calculator-value--output">
            <span class="input-prefix">$</span>
            <input type="number" class="currency" name="total-monthly-payment" id="total-monthly-payment" value="1044" readonly/>
          </div>
        </div>
      </div>
    </div>
    <div class="calculator-cta">
      <a href="https://www.themilitarywallet.com">Check Rates</a>
    </div>
  </div>
</div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    ("Calculator js running");
    function getRadioVal(calculator, name) {
      let value = false;
      const radios = calculator.querySelectorAll(`input[type=radio][name=${name}]`)

      for (let i = 0; i < radios.length; i += 1) {
        if ( radios[i].checked ) {
          value = radios[i].value;
          break;
        }
      }
      return value;
    }
    function toPercent(value, digits = 2) {
      if (value == 0) {
        return '-%';
      } else {
        return (value * 100).toLocaleString(undefined, { minimumFractionDigits: digits, maximumFractionDigits: digits}) + '%'
      }
    }
    function loanFeePercentage(loanType, serviceType, downPaymentPct, disabled10, firstTimeLoan) {
      if (serviceType === 'surviving-spouse') { return 0.0 }
      if (disabled10) { return 0.0 }

      if (loanType === 'rate-reduction') { return 0.005 }
      if (loanType === 'manufactured') { return 0.010 }
      if (loanType === 'assumption') { return 0.005 }

      if (loanType === 'cash-out') {
        if (!firstTimeLoan) { return 0.033 }
        if (serviceType == 'regular-military') { return 0.0215 }
        if (serviceType == 'reserves-national-guard') { return 0.024 }
        return 'error';
      } else if (loanType === 'home-purchase') {
        if (serviceType == 'regular-military') {
          if (downPaymentPct < 0.05) {
            if (!firstTimeLoan) { return 0.033 }
            else { return 0.0215 }
          } else if (downPaymentPct < 0.10) {
            return 0.015;
          } else {
            return 0.0125;
          }
        } else if (serviceType === 'reserves-national-guard') {
          if (downPaymentPct < 0.05) {
            if (!firstTimeLoan) { return 0.033 }
            else { return 0.024 }
          } else if (downPaymentPct < 0.10) {
            return 0.0175;
          } else {
            return 0.015;
          }
        }
      } else {
        return 'error'
      }

      return 10.0;
    }
    function mortgagePayment(pv, nper, rate) {
      return (rate * pv) / (1.0 - Math.pow(1 + rate, -nper));
    }
    function principalRemaining(period, nper, rate, pmt) {
      const periodsRemaining = nper - period;
      return pmt * (1 - Math.pow(1 + rate, -periodsRemaining)) / rate;
    }
    console.log("Calculator helper functions loaded");
    const calculator = document.querySelector('#va-mortgage-calculator');

    if (calculator) {
      console.log("Calculator found");

      let chartInitialized = false;
      let resizing = false;
      const monthlyDonutChart = calculator.querySelector('#monthly-payment-chart');
      const inputs = calculator.querySelectorAll('input');
      const selects = calculator.querySelectorAll('select');
      const downPaymentButtons = calculator.querySelectorAll('#down-payment-percent-button-set');
      const currencyInputs = calculator.querySelectorAll('input.currency');

      const loanTypeInput = calculator.querySelector('select[name=loan-type]');
      const serviceTypeInput = calculator.querySelector('select[name=service-type]');
      const homeValueInput = calculator.querySelector('input[name=home-value]');
      const downPaymentInput = calculator.querySelector('input[name=down-payment]');
      const disabled10Input = calculator.querySelector('input[name=va-disabled]:checked');
      const prevVaLoanInput = calculator.querySelector('input[name=prev-va-loan]:checked');
      const rateInput = calculator.querySelector('input[name=rate]');
      const termInput = calculator.querySelector('select[name=term]');
      const propertyTaxInput = calculator.querySelector('input[name=property-tax]');
      const insuranceInput = calculator.querySelector('input[name=insurance]');
      const hoaFeesInput = calculator.querySelector('input[name=hoa-fees]');

      const vaLoanFeeOutput = calculator.querySelector('input[name=va-loan-fees]');
      const mortgageAmountOutput = calculator.querySelector('input[name=mortgage-amount]');
      const downPaymentPercentageOutput = calculator.querySelector('span#down-payment-percent');
      const monthlyPaymentOutput = calculator.querySelector('input[name=monthly-payment]');
      const totalMonthlyPaymentOutput = calculator.querySelector('input[name=total-monthly-payment]');

      const homeValueField = homeValueInput.parentNode.parentNode;
      const downPaymentField = downPaymentInput.parentNode.parentNode;
      const rateField = rateInput.parentNode.parentNode;

      function updateResults() {
        /* Get values */
        const loanType = loanTypeInput.value;
        const serviceType = serviceTypeInput.value;
        const homeValue = parseFloat(homeValueInput.value) || 0;
        const downPayment = parseFloat(downPaymentInput.value) || 0;
        const disabled10 = getRadioVal(calculator, 'va-disabled') === 'true';
        const firstTimeLoan = getRadioVal(calculator, 'prev-va-loan') === 'false';
        const rate = parseFloat(rateInput.value) / 100.0 || 0;
        const term = parseInt(termInput.value);

        const propertyTaxValue = parseFloat(propertyTaxInput.value) || 0;
        const insuranceValue = parseFloat(insuranceInput.value) || 0;
        const hoaFeesValue = parseFloat(hoaFeesInput.value) || 0;

        delete homeValueField.dataset.error;
        delete downPaymentField.dataset.error;
        delete rateField.dataset.error;

        let breakingError = false;

        if (homeValue <= 0) {
          breakingError = true;
          homeValueField.dataset.error = "Set home value greater than zero";
        }

        if (downPayment < 0) {
          breakingError = true;
          downPaymentField.dataset.error = "Set down payment to at least zero";
        }

        if (downPayment >= homeValue) {
          breakingError = true;
          homeValueField.dataset.error = "Set home value greater than down payment";
          downPaymentField.dataset.error = "Set down payment less than home value";
        }

        let mortgageAmount = 0;
        let downPaymentPercentage = 0.0;

        if (!breakingError) {
          mortgageAmount = homeValue - downPayment;
          downPaymentPercentage = downPayment / homeValue;
        }

        const vaFeePct = loanFeePercentage(loanType, serviceType, downPaymentPercentage, disabled10, firstTimeLoan);

        const vaFees = mortgageAmount * vaFeePct;

        mortgageAmount += vaFees;

        mortgageAmountOutput.value = mortgageAmount.toFixed(2);
        vaLoanFeeOutput.value = vaFees.toFixed(2);
        downPaymentPercentageOutput.innerHTML = toPercent(downPaymentPercentage);

        if (rate <= 0.0) {
          breakingError = true;
          rateField.dataset.error = "Set interest rate to at least zero";
        }
        if (rate > 15.0) {
          breakingError = true;
          rateField.dataset.error = "Set interest rate less than 15%";
        }

        if (breakingError) {
          monthlyPaymentOutput.value = 0.00;
          totalMonthlyPaymentOutput.value = 0.00;
          monthlyDonutChart.innerHTML = '';
          return;
        }

        const partialRate = rate / 12.0;

        let monthlyPayment = mortgagePayment(mortgageAmount, term, partialRate);
        monthlyPayment = Math.round(monthlyPayment * 100) / 100;
        monthlyPaymentOutput.value = monthlyPayment.toFixed(2);

        const totalMonthlyPayment = monthlyPayment + propertyTaxValue + insuranceValue + hoaFeesValue;
        totalMonthlyPaymentOutput.value = totalMonthlyPayment.toFixed(2);

        if (chartInitialized) {
          drawMonthlyDonutChart(monthlyPayment, propertyTaxValue, insuranceValue, hoaFeesValue);
        }
      }

      /* Set calculator to auto-update on input changes */
      for (let i = 0; i < inputs.length; i += 1) {
        inputs[i].addEventListener('input', updateResults);
      }
      for (let i = 0; i < selects.length; i += 1) {
        selects[i].addEventListener('input', updateResults);
      }
      for (let i = 0; i < downPaymentButtons.length; i += 1) {
        downPaymentButtons[i].addEventListener('click', (event) => {
          let button = event.target;
          let buttonValue = parseFloat(button.innerHTML) || 0.0;
          let homeValue = parseFloat(homeValueInput.value) || 0.0;
          let downPaymentAmount = (buttonValue / 100.0) * homeValue;
          downPaymentInput.value = downPaymentAmount.toFixed(2);
          updateResults();
        });
      }

      window.addEventListener('resize', function(event){
        if (resizing) {
          return;
        } else {
          resizing = true;
          monthlyDonutChart.innerHTML = '';
          updateResults();
          resizing = false;
        }
      });

      function drawMonthlyDonutChart(principalAndInterest, propertyTax, insurance, hoaFees) {
        let data = google.visualization.arrayToDataTable([
          ['Payment', 'Amount'],
          ['Principal & Interest', principalAndInterest],
          ['Property Taxes',      propertyTax],
          ["Homeowner's Insurance",  insurance],
          ["HOA Fees", hoaFees]
        ]);

        let options = {
          colors: ['#091D40', '#323E94', '#A8B1C2', 'lightgray'],
          legend: {position: 'labeled'},
          pieHole: 0.6,
          pieSliceText: 'none',
          tooltip: { trigger: 'none' }
        };

        let chart = new google.visualization.PieChart(monthlyDonutChart);
        chart.draw(data, options);
      }

      function chartReady() {
        chartInitialized = true;
        updateResults();
      }

      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(chartReady);

      updateResults();
    }
  });
</script>
</body>
</html>
