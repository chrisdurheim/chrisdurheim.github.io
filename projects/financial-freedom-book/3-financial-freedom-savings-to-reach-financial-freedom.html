---
layout: null
sitemap: false
permalink: /ffb/savings-to-fi.html
---


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.0.2' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/plugins/instagram-feed/css/sb-instagram.min.css?ver=1.9.1' type='text/css' media='all' />
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/plugins/ultimate-social-media-icons/css/sfsi-style.css?ver=4.9.8' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/themes/book/assets/css/utility.css?ver=1.3' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/themes/book/assets/css/animate.css?ver=1.3' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/themes/book/assets/css/bootstrap.min.css?ver=1.3' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/themes/book/assets/css/unyson-framework.css?ver=1.3' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/themes/book/assets/css/style.css?ver=1.3' type='text/css' media='all' />
<link rel='stylesheet' href='https://financialfreedombook.com/wp-content/themes/book/assets/css/ie8fix.css?ver=1.3' type='text/css' media='all' />
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic' type='text/css' media='all' />
{% include ff-book-css.html %}
<div class="financial-freedom-calculator" id="savings-to-reach-financial-freedom">
  <h3 class="calculator-title">Savings to Financial Freedom</h3>
  <div class="calculator-input">
    <label for="financial-freedom-target" id="financial-freedom-target-label">Financial Freedom Target</label><br />
    <span class="input-prefix">$</span>
    <input type="number" class="currency" name="financial-freedom-target" id="financial-freedom-target" value="1250000" min="0" />
  </div>
  <div class="calculator-input">
    <label for="current-freedom-savings" id="current-freedom-savings-label">Current Freedom Savings</label><br />
    <span class="input-prefix">$</span>
    <input type="number" class="currency" name="current-freedom-savings" id="current-freedom-savings" value="0" min="0" />
  </div>
  <div class="calculator-input">
    <label for="expected-investment-annual-return" id="expected-investment-annual-return-label">7.0% expected investment annual return</label><br />
    <input type="range" class="slider slider--percent" name="expected-investment-annual-return" id="expected-investment-annual-return" value="0.07" min="0.01" max="0.15" step="0.005" />
  </div>
  <div class="calculator-input">
    <label for="years-to-reach-financial-freedom" id="years-to-reach-financial-freedom-label">15 years to financial freedom</label><br />
    <input type="range" class="slider" name="years-to-reach-financial-freedom" id="years-to-reach-financial-freedom" value="15" min="1" max="50" step="1" />
  </div>
  <div class="calculator-result"></div>
</div>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    console.log("Calculator js running");
    function tag(type, value = undefined, klass = undefined, id = undefined) {
      let el = document.createElement(type);
      if (klass) {
        el.setAttribute('class', klass);
      }
      if (id) {
        el.setAttribute('id', id);
      }
      if (value) {
        el.innerText = value;
      }
      return el;
    }
    function toCurrency(value, digits = 2) {
      if (value == 0) {
        return '-';
      } else {
        return '$' + value.toLocaleString(undefined, { minimumFractionDigits: digits, maximumFractionDigits: digits})
      }
    }
    console.log("Calculator helper functions loaded");
    const calculator = document.querySelector('#savings-to-reach-financial-freedom');

    if (calculator) {
      console.log("Calculator found");

      const inputs = document.querySelectorAll('input');
      const currencyInputs = calculator.querySelectorAll('input.currency');
      const financialFreedomTargetInput = calculator.querySelector('input#financial-freedom-target');
      const financialFreedomTargetLabel = calculator.querySelector('#financial-freedom-target-label');
      const currentFreedomSavingsInput = calculator.querySelector('input#current-freedom-savings');
      const currentFreedomSavingsLabel = calculator.querySelector('#current-freedom-savings-label');
      const expectedInvestmentAnnualReturnInput = calculator.querySelector('input#expected-investment-annual-return');
      const expectedInvestmentAnnualReturnLabel = calculator.querySelector('#expected-investment-annual-return-label');
      const yearsToReachFinancialFreedomInput = calculator.querySelector('input#years-to-reach-financial-freedom');
      const yearsToReachFinancialFreedomLabel = calculator.querySelector('#years-to-reach-financial-freedom-label');
      const outputDiv = calculator.querySelector('#savings-to-reach-financial-freedom .calculator-result');
      function updateResults() {
        const financialFreedomTarget = parseFloat(financialFreedomTargetInput.value) || 0;
        const currentFreedomSavings = parseFloat(currentFreedomSavingsInput.value) || 0;
        const expectedInvestmentAnnualReturn = parseFloat(expectedInvestmentAnnualReturnInput.value) || 0;
        const yearsToReachFinancialFreedom = parseFloat(yearsToReachFinancialFreedomInput.value) || 0;
        expectedInvestmentAnnualReturnLabel.innerHTML = (expectedInvestmentAnnualReturn * 100).toFixed(1) + '% expected investment annual return' ;
        yearsToReachFinancialFreedomLabel.innerHTML = yearsToReachFinancialFreedom + ' years to financial freedom' ;
        if (outputDiv) {
          if (financialFreedomTarget < 0) {
            outputDiv.innerHTML = '';
            outputDiv.appendChild(tag('span', 'Set financial freedom target greater than 0', 'result-error'));
            return;
          }
          if (currentFreedomSavings < 0) {
            outputDiv.innerHTML = '';
            outputDiv.appendChild(tag('span', 'Set current freedom savings greater than 0', 'result-error'));
            return;
          }
          if (expectedInvestmentAnnualReturn < 0.01) {
            outputDiv.innerHTML = '';
            outputDiv.appendChild(tag('span', 'Set expected investment annual return greater than 1.0%', 'result-error'));
            return;
          }
          if (expectedInvestmentAnnualReturn > 0.15) {
            outputDiv.innerHTML = '';
            outputDiv.appendChild(tag('span', 'Set expected investment annual return less than 15.0%', 'result-error'));
            return;
          }
          if (yearsToReachFinancialFreedom < 1) {
            outputDiv.innerHTML = '';
            outputDiv.appendChild(tag('span', 'Set years to reach financial freedom greater than 1', 'result-error'));
            return;
          }
          if (yearsToReachFinancialFreedom > 50) {
            outputDiv.innerHTML = '';
            outputDiv.appendChild(tag('span', 'Set years to reach financial freedom less than 50', 'result-error'));
            return;
          }

          function periodicSavingsNeeded(target, current, rate, years, frequency = 1) {
            /* SAVINGS TO WALK AWAY CALCULATION

              Let:
                W = walk-away target
                C = current savings
                r = investment annual growth rate
                k = periods per year
                n = years to walk-away
                S = periodic savings needed

                W = C * (1 + r)^n + S * ((1 + r)^n-1) / ((1 + r)^(1/k) - 1)
                solve for S to get:
                S = (W - C * (1 + r)^n) * ((1 + r)^(1/k) - 1) / ((1 + r)^n - 1) */
            const gap = target - current * Math.pow(1 + rate, years);
            const scaleNumerator = Math.pow(1 + rate, 1 / frequency) - 1;
            const scaleDenomenator = Math.pow(1 + rate, years) - 1;
            const scale = scaleNumerator / scaleDenomenator;
            return Math.max(gap * scale, 0);
          }
          function calculateSavingsRow(target, current, rate, years) {
            return { "year": years,
                     "yearly": periodicSavingsNeeded(target, current, rate, years, 1),
                     "monthly": periodicSavingsNeeded(target, current, rate, years, 12),
                     "weekly": periodicSavingsNeeded(target, current, rate, years, 52.1775),
                     "daily": periodicSavingsNeeded(target, current, rate, years, 365.2425) }
          }
          function toTable(data) {
            let tableContainer = tag('div', null, 'calculator-result-table');
            let table = tag('table');
            let thead = document.createElement('thead');
            let theadRow = document.createElement('tr');
            theadRow.appendChild(tag('th', 'Year'));
            theadRow.appendChild(tag('th', 'Annual'));
            theadRow.appendChild(tag('th', 'Monthly'));
            theadRow.appendChild(tag('th', 'Weekly'));
            theadRow.appendChild(tag('th', 'Daily'));
            thead.appendChild(theadRow);
            table.appendChild(thead);
            let tbody = document.createElement('tbody');
            data.forEach( (row) => {
              let rowClass = '';
              if (row["year"] == yearsToReachFinancialFreedom) {
                rowClass = 'active';
              }
              let tbodyRow = tag('tr', null, rowClass);
              tbodyRow.appendChild(tag('td', row["year"]));
              tbodyRow.appendChild(tag('td', toCurrency(row["yearly"], 0)));
              tbodyRow.appendChild(tag('td', toCurrency(row["monthly"], 0)));
              tbodyRow.appendChild(tag('td', toCurrency(row["weekly"], 0)));
              tbodyRow.appendChild(tag('td', toCurrency(row["daily"], 0)));
              tbody.appendChild(tbodyRow);
            });
            table.appendChild(tbody);
            tableContainer.appendChild(table);
            return tableContainer;
          }

          function calculateResult() {
            // financialFreedomTarget;
            // currentFreedomSavings;
            // expectedInvestmentAnnualReturn;
            // yearsToReachFinancialFreedom;

            //yearsMin = Math.max(1, yearsToReachFinancialFreedom - 2);
            //yearsMax = yearsToReachFinancialFreedom + 2;
            yearsMin = 1;
            yearsMax = 50;
            let values = [];

            for (let i = yearsMin; i <= yearsMax; i += 1) {
              values.push(calculateSavingsRow(financialFreedomTarget, currentFreedomSavings, expectedInvestmentAnnualReturn, i))
            }

            //let result = values[2]["daily"]

            let outputText = document.createDocumentFragment();

            let baseText = document.createElement('p');
            baseText.appendChild(document.createTextNode("To achieve financial independence, here's what you'd need to save depending on your timeline and saving frequency:"));
            outputText.appendChild(baseText);
            outputText.appendChild(toTable(values))

            return outputText;
          }

          outputDiv.innerHTML = '';

          let outputHeading = document.createElement('h4');
          outputHeading.innerText = 'Results';
          outputDiv.appendChild(outputHeading);
          outputDiv.appendChild(calculateResult());
        }
      }

      /* Set calculator to auto-update on input changes */
      for (let i = 0; i < inputs.length; i += 1) {
        inputs[i].addEventListener('input', () => {
          updateResults();
        });
      }
      updateResults();
    }
  });
</script>
</body>
</html>
