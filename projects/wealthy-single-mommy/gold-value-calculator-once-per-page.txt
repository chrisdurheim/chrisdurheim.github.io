<style>:root{--thrifty-calculator-primary-color: #268b92; --thrifty-calculator-primary-accent-color: #d92176; --thrifty-calculator-secondary-color: #333; --thrifty-calculator-background-color: white; --thrifty-calculator-line-color: darkgray; --thrifty-calculator-font: Helvetica, sans-serif;}.gold-value-calculator{font-size: 16px; font-family: var(--thrifty-calculator-font); width: calc(100% - 1rem); max-width: 300px; margin: 2rem auto; line-height: 1.175; border-radius: 0.5rem; background-color: white; overflow: hidden;}.gold-value-calculator .calculator-header{padding: 1.5rem 1rem 0.5rem; background-color: #FEE692; text-align: center;}.gold-value-calculator .calculator-header .calculator-icon{margin-top: 0.5rem;}.gold-value-calculator .calculator-header .calculator-title{margin: 0.5rem 0 1rem; color: #846F2A; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 0.25rem; font-weight: bold;}.gold-value-calculator .calculator-price{color: black; font-size: 1.75rem; line-height: 1; font-weight: bold; letter-spacing: 0.125rem;}.gold-value-calculator .calculator-price .prefix{color: #846F2A; font-size: 0.5em; padding-right: 0.25rem; vertical-align: 40%; font-weight: 300;}.gold-value-calculator .calculator-price .suffix{color: #846F2A; font-size: 0.5em; padding-left: 0.25rem; vertical-align: bottom; font-weight: 300;}.gold-value-calculator .calculator-header .calculator-note{margin: 0.5rem 0; color: #846F2A; font-size: 0.875rem;}.gold-value-calculator .calculator-header .latest-date{margin: 1.5rem 0 0; color: #846F2A; font-size: 0.67rem; font-weight: 300;}.gold-value-calculator .calculator-body{padding: 1rem 2rem;}.gold-value-calculator .calculator-body .calculator-question{margin: 0.75rem 0 0.5rem; color: #564D2F; text-align: center;}::placeholder{/* Chrome, Firefox, Opera, Safari 10.1+ */ color: #B2AEA0; opacity: 1; /* Firefox */}:-ms-input-placeholder{/* Internet Explorer 10-11 */ color: #B2AEA0;}::-ms-input-placeholder{/* Microsoft Edge */ color: #B2AEA0;}.gold-value-calculator .calculator-inputs{display: flex;}.gold-value-calculator .calculator-inputs .calculator-weight-input{flex: 2 0 90px; border-bottom: 1px solid #DDDDDD; padding: 0.5rem 0;}.gold-value-calculator .calculator-inputs .calculator-weight-input:focus-within, .gold-value-calculator .calculator-inputs .calculator-purity-input:focus-within{border-color: #F18263;}.gold-value-calculator .calculator-inputs .calculator-weight-input input, .gold-value-calculator .calculator-inputs .calculator-weight-input select{display: block; background-color: white; color: #846F2A; border: none; width: 100%; height: initial !important; padding: 0; line-height: inherit;}.gold-value-calculator .calculator-inputs .calculator-weight-input input:focus, .gold-value-calculator .calculator-inputs .calculator-weight-input select:focus, .gold-value-calculator .calculator-inputs .calculator-purity-input select:focus{outline: none; color: #3E3412;}.gold-value-calculator .calculator-inputs .calculator-weight-input input{font-size: 1.25rem; color: #3E3412;}.gold-value-calculator .calculator-inputs .calculator-weight-input select{margin-bottom: 0.75rem; font-size: 0.8rem; padding: 0 2em 0 0; -webkit-appearance: none; -moz-appearance: none; appearance: none; /* Arrow */ background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat, repeat; background-position: right .6rem top 50%, 0 0; background-size: .5rem auto, 100%; cursor: pointer; width: auto;}.gold-value-calculator .calculator-inputs select option{text-align-last: right;}.gold-value-calculator .calculator-inputs select option{direction: rtl;}.gold-value-calculator .calculator-inputs .calculator-purity-input{flex: 0 0 auto; border-bottom: 1px solid #DDDDDD; padding: 0.5rem 0;}.gold-value-calculator .calculator-inputs .calculator-purity-input label, .gold-value-calculator .calculator-inputs .calculator-purity-input select{display: block; background-color: white; color: #846F2A; border: none; width: 100%; font-weight: normal;}.gold-value-calculator .calculator-inputs .calculator-purity-input label{font-size: 0.8rem;}.gold-value-calculator .calculator-inputs .calculator-purity-input select{color: #3E3412; font-size: 1.25rem; padding: 0 1.5rem 0 0; -webkit-appearance: none; -moz-appearance: none; appearance: none; /* Arrow */ background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat, repeat; background-position: right .6rem top 50%, 0 0; background-size: .5rem auto, 100%; cursor: pointer; width: auto; height: initial !important;}.gold-value-calculator .calculator-result{margin: 1.5rem 0 1rem;}.gold-value-calculator .calculator-result .result-label{font-size: 0.8rem; color: #7E7E7E; margin-bottom: 0.25rem;}.gold-value-calculator .calculator-result .result-value{font-size: 1.75rem; color: #454952; font-weight: bold; letter-spacing: 0.125rem;}.gold-value-calculator .calculator-result .prefix{font-size: 0.5em; padding-right: 0.25rem; vertical-align: 40%; font-weight: 300;}.gold-value-calculator .calculator-cta{text-align: center;}.gold-value-calculator .calculator-cta a{box-shadow: none; display: block; padding: 1rem 0.25rem 0.75rem; border: 1px solid #F18263; border-radius: 0.5rem; color: white; font-size: 1.5rem; font-weight: bold; background-color: #F18263; text-decoration: none; transition: color 150ms ease-in-out, background-color 150ms ease-in-out, border-color 150ms ease-in-out;}.gold-value-calculator .calculator-cta a:hover, .gold-value-calculator .calculator-cta a:focus{background-color: #454952; border-color: #454952; box-shadow: 0 0 0 0.1rem #454952; outline: none;}.gold-value-calculator .calculator-footer{padding: 0 0 1.25rem; text-align: center; font-size: 0.8rem; color: #909090;}</style><script async type="text/javascript"> document.addEventListener('DOMContentLoaded', ()=>{console.log("Calculator js running"); function toCurrency(value, digits=2, symbol='$'){return symbol + value.toLocaleString(undefined,{minimumFractionDigits: digits, maximumFractionDigits: digits});}console.log("Calculator helper functions loaded"); const latestDate=new Date(); const latestDateResults=document.querySelectorAll('.gold-value-calculator .latest-date'); latestDateResults.forEach((latestDateResult)=>{latestDateResult.innerHTML=latestDate.toLocaleDateString('en-US',{month: 'short', day: 'numeric', year: 'numeric'});}); const request=new Request("https://www.quandl.com/api/v3/datasets/LBMA/GOLD.json?api_key=TXJ7UvEoGxoLmrrV3kuV&order=desc&limit=1"); fetch(request).then(response=>{return response.json()}).then( json=>{const amValue=json.dataset.data[0][1]; const pmValue=json.dataset.data[0][2]; const latestPrice=pmValue || amValue; const latestPriceResults=document.querySelectorAll('.gold-value-calculator .latest-price'); latestPriceResults.forEach((latestPriceResult)=>{latestPriceResult.innerHTML=latestPrice.toLocaleString(undefined,{minimumFractionDigits: 2, maximumFractionDigits: 2});}); const calculators=document.querySelectorAll('.gold-value-calculator'); calculators.forEach((calculator)=>{if (calculator){console.log("Calculator found"); /* Attach UTM parameters */ const utmHolder=calculator; const ctaLink=calculator.querySelector('.calculator-cta-link'); const params=utmHolder.dataset; const queryString=Object .keys(params) .map((key)=>{if (key==='baseUri'){return null;}else{return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);}}) .filter((element)=> element !=null) .join('&'); if (ctaLink && calculator.dataset.baseUri){ctaLink.href=calculator.dataset.baseUri + '?' + queryString;}else{calculator.querySelector('.calculator-cta').style='display: none;'}const inputs=calculator.querySelectorAll('input'); const selects=calculator.querySelectorAll('select'); const weightInput=calculator.querySelector('input[name=weight]'); const weightUnitInput=calculator.querySelector('select[name=weight-unit]'); const karatRatingInput=calculator.querySelector('select[name=karat-purity]'); const weightField=weightInput.parentNode.parentNode; const resultLine=calculator.querySelector('.total-value'); function updateResults(){/* Get values */ const weight=parseFloat(weightInput.value) || 0; const weightUnit=parseFloat(weightUnitInput.value) || 0; const karatRating=parseFloat(karatRatingInput.value) || 0; const value=weight * weightUnit * karatRating * latestPrice; resultLine.innerHTML=value.toLocaleString(undefined,{minimumFractionDigits: 2, maximumFractionDigits: 2}); if (ctaLink){ctaLink.classList.remove('pulse-red')}setTimeout(()=>{if (ctaLink){ctaLink.classList.add('pulse-red')}}, 150);}/* Set calculator to auto-update on input changes */ for (let i=0; i < inputs.length; i +=1){inputs[i].addEventListener('input', updateResults);}for (let i=0; i < selects.length; i +=1){selects[i].addEventListener('input', updateResults);}updateResults();}});});});</script>
