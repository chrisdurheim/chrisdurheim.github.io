---
layout: null
sitemap: false
published: true
permalink: /smm/trs/
---

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<link type="text/css" media="all" href="https://smartmoneymamas.com/wp-content/cache/autoptimize/css/autoptimize_370076798dfc1abb6f3b105dde7b6676.css" rel="stylesheet" />
<link type="text/css" media="screen" href="https://smartmoneymamas.com/wp-content/cache/autoptimize/css/autoptimize_cdc5ef00d8f7937335a320491b026cf7.css" rel="stylesheet" />
<link rel='stylesheet' id='maitheme-google-fonts-css'  href='//fonts.googleapis.com/css?family=Muli%3A200%2C200i%7COpen+Sans%3A300%2C300i%2C400%2C400i%2C700%2C700i%7CPlayfair+Display%3A700%2C700i' type='text/css' media='all' />
<style>.smart-money-mamas-calculator{background-color: #FFFFFF; margin: 2rem auto; padding: 2rem 2rem 0; border-radius: 0.2rem; border: 2px solid #34b3b7; max-width: 640px; clear: both;}.smart-money-mamas-calculator .calculator-input-group{padding: 1rem 0;}.smart-money-mamas-calculator h3.calculator-title, .smart-money-mamas-calculator .calculator-result h4{background-color: #34b3b7; color: white; padding: 1rem 0; text-align: center; text-transform: uppercase;}.smart-money-mamas-calculator .calculator-result h4{background-color: #34b3b7; margin: 0;}.smart-money-mamas-calculator h4.calculator-group-title{background-color: #e2b627; margin-bottom: 1rem; padding: 0.5rem; color: white; text-align: center;}.smart-money-mamas-calculator .calculator-input{display: flex; flex-wrap: wrap; margin: 1rem 0 0;}.smart-money-mamas-calculator .calculator-input label{flex: 0 0 100%; padding: 0.25rem 0; color: black;}.smart-money-mamas-calculator .calculator-input .input-prefix{flex: 0 0 auto; padding: 0.5rem; margin: 0 0.25rem; line-height: 2rem;}.smart-money-mamas-calculator .calculator-input input{flex: 1 0 auto; width: auto; max-width: 50%; padding: 0.5rem; margin: 0 0.25rem; border: 1px solid #ddd;}.smart-money-mamas-calculator .calculator-input input:focus{outline: none; border: 1px solid #414141;}.smart-money-mamas-calculator .calculator-input select.input-suffix{flex: 0 0 auto; width: auto; padding: 0.5rem; margin: 0 0.25rem;}.smart-money-mamas-calculator input.slider{margin-top: 1rem; width: 100%; max-width: 100%;}.smart-money-mamas-calculator .slider{-webkit-appearance: none; appearance: none; height: 0.5rem; border-radius: 0.5rem; border-color: #ffffff; color: #ffffff; background: #ffffff; outline: none; opacity: 1; -webkit-transition: .2s; transition: opacity .2s; margin-top: 1rem !important; margin-bottom: 1rem !important; padding: 0 !important;}.smart-money-mamas-calculator .slider:hover{background: #FFFFFF;}.smart-money-mamas-calculator .slider::-webkit-slider-thumb{-webkit-appearance: none; appearance: none; width: 1.5rem; height: 1.5rem; border-radius: 50%; background: #34b3b7; cursor: pointer;}.smart-money-mamas-calculator .slider::-moz-range-thumb{width: 1.5rem; height: 1.5rem; border-radius: 50%; background: #34b3b7; cursor: pointer;}.smart-money-mamas-calculator .switch-label--off{margin-right: 0.5rem;}.smart-money-mamas-calculator .switch-label--on{margin-left: 0.5rem;}/* The switch - the box around the slider */ .smart-money-mamas-calculator .switch{position: relative; display: inline-block; width: 4rem; height: 2rem;}/* Hide default HTML checkbox */ .smart-money-mamas-calculator .switch input{opacity: 0; width: 0; height: 0;}/* The slider */ .smart-money-mamas-calculator .switch-slider{position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #e2b627; -webkit-transition: .4s; transition: .4s; border: 1px solid transparent; border-radius: 2rem;}.smart-money-mamas-calculator .switch-slider:before{position: absolute; content: ""; height: calc(2rem - 8px); width: calc(2rem - 8px); left: 3px; bottom: 3px; background-color: white; -webkit-transition: .4s; transition: .4s; border-radius: 50%;}.smart-money-mamas-calculator input:checked + .switch-slider{background-color: #34b3b7;}.smart-money-mamas-calculator input:focus + .switch-slider{border-color: #414141;}.smart-money-mamas-calculator input:checked + .switch-slider:before{-webkit-transform: translateX(32px); -ms-transform: translateX(32px); transform: translateX(32px);}.smart-money-mamas-calculator p.description{color: rgba(0, 0, 0, 0.7); font-size: 0.9rem; font-style: italic; margin: 1rem 0; font-weight: bold; position: relative;}.smart-money-mamas-calculator p.description .detail-icon{display: inline-block; text-align: center; font-style: none; color: white; background-color: #e2b627; border-radius: 50%; width: 1.25rem; height: 1.25rem; cursor: pointer; display: inline-flex; align-items: center; justify-content: center;}.smart-money-mamas-calculator p.description .detail-icon .detail{font-size: 0.9rem; visibility: hidden; background-color: #f8f8f8; color: rgba(0, 0, 0, 0.7); border: 1px solid #e2b627; text-align: left; font-weight: normal; text-align: left; padding: 0.75rem; width: 480px; max-width: 80vw; position: absolute; z-index: 1; top: calc(100% + 0.5rem); right: 0;}.smart-money-mamas-calculator p.description .detail-icon:hover .detail{visibility: visible;}.smart-money-mamas-calculator div.disclaimer{font-size: 0.8rem; font-style: italic; padding: 1rem;}.smart-money-mamas-calculator a.link{margin: 1rem; padding: 1rem; font-style: italic; text-align: center; display: block;}.smart-money-mamas-calculator .calculator-result{margin: 2rem 1rem; overflow-x: auto;}.smart-money-mamas-calculator .calculator-result .result-value{font-weight: bold;}.smart-money-mamas-calculator .result-error{display: block; font-style: italic; color: #ac0000;}.smart-money-mamas-calculator .calculator-result .calculator-highlighted-result{text-align: center; background-color: #ac0000; color: white;}.smart-money-mamas-calculator .calculator-result-table{max-width: 100%; overflow-x: scroll;}.smart-money-mamas-calculator .calculator-result-table tr{transition: background-color 50ms, color 50ms;}.smart-money-mamas-calculator .calculator-result-table th{text-align: center;}.smart-money-mamas-calculator .calculator-result-table td, .calculator-result-table th{padding: 0 0.5rem;}.smart-money-mamas-calculator .calculator-result-table .currency-column{text-align: right;}.smart-money-mamas-calculator .calculator-result-table .data-column{text-align: right;}.smart-money-mamas-calculator .calculator-result-table tr.positive td{color: green;}.smart-money-mamas-calculator .calculator-result-table tr.negative td{color: red;}.smart-money-mamas-calculator .calculator-result-table tr.positive td:first-child{color: black;}.smart-money-mamas-calculator .calculator-result-table tr.negative td:first-child{color: black;}.smart-money-mamas-calculator .calculator-result-table .title-column{font-weight: bold; background-color: #f9f9f9;}.smart-money-mamas-calculator .calculator-result-table tr:hover td{background-color: #34b3b7; color: white;}.smart-money-mamas-calculator .calculator-button-container{text-align: center;}.smart-money-mamas-calculator button.calculator-button{background-color: #34b3b7; margin: 0 auto; cursor: pointer; text-align: center;}.smart-money-mamas-calculator .calculator-attribution{text-align: center; font-size: 0.8rem; font-style: italic; margin-top: 2rem; padding: 1rem 0.5rem; border-top: 1px solid #ddd;}.smart-money-mamas-calculator .calculator-attribution a{font-size: 0.8rem; color: #34b3b7; text-decoration: none;}.smart-money-mamas-calculator .calculator-attribution a:hover{color: #414141; text-decoration: underline;}.smart-money-mamas-calculator .calculator-interim-result{text-align: center; padding: 1rem; margin: 1rem 0; font-size: 1.2rem; font-weight: bold; line-height: 1.25;}.smart-money-mamas-calculator .calculator-result{border: 1px solid #34b3b7;}.smart-money-mamas-calculator .calculator-result p{text-align: center; padding: 1rem; margin: 0; font-size: 1.3rem; line-height: 1.25;}.smart-money-mamas-calculator .calculator-result span.neutral, .smart-money-mamas-calculator .calculator-result span.positive, .smart-money-mamas-calculator .calculator-result span.negative{font-weight: bold;}.smart-money-mamas-calculator .calculator-result span.positive{color: green;}.smart-money-mamas-calculator .calculator-result span.negative{color: red;}.smart-money-mamas-calculator .calculator-result span.subresult{font-size: 1rem;}.smart-money-mamas-calculator .calculator-result span.result-focus{font-size: 2rem;}.smart-money-mamas-calculator .calculator-result ol, .smart-money-mamas-calculator .calculator-result ul{text-align: center; list-style: none; padding: 0; margin: 0 2rem 2rem; font-size: 1.8rem;}.smart-money-mamas-calculator .calculator-cta{margin: 2rem 1rem; text-align: center; padding: 1rem;}.smart-money-mamas-calculator .calculator-cta h5{font-family: 'Open Sans',sans-serif; font-weight: 700;}</style>
<div class="smart-money-mamas-calculator" id="target-retirement-savings-rate-calculator">
  <h3 class="calculator-title">Target Retirement Savings Rate Calculator</h3>
  <div class="calculator-input-group" id="step-1-enter-your-familys-current-age-and-income">
    <h4 class="calculator-group-title">Step 1: Enter your family's current age and income</h4>
    <p class="description">
      This is the basic information we need to know where you are starting
      <span class="detail-icon">
        ?
        <span class="detail">In your current retirement savings, be sure to include 401(k)s, IRAs, and other money set aside specifically for retirement. I would not include home equity in your retirement savings.</span>
      </span>
    </p>
    <div class="calculator-input">
      <div class="switch-container">
        <span class="switch-label switch-label--off">Single</span>
        <label class="switch">
          <input type="checkbox" checked=true id="married-checkbox">
          <span class="switch-slider"></span>
        </label>
        <span class="switch-label switch-label--on">Married</span>
      </div>
    </div>
    <div class="calculator-input">
      <label for="step-1-enter-your-familys-current-age-and-income-your-current-age" id="step-1-enter-your-familys-current-age-and-income-your-current-age-label">33 your current age</label><br />
      <input type="range" class="slider" name="step-1-enter-your-familys-current-age-and-income-your-current-age" id="step-1-enter-your-familys-current-age-and-income-your-current-age" value="33" min="18" max="65" step="1" />
    </div>
    <div class="calculator-input for-spouse">
      <label for="step-1-enter-your-familys-current-age-and-income-your-spouses-current-age" id="step-1-enter-your-familys-current-age-and-income-your-spouses-current-age-label">32 your spouse's current age</label><br />
      <input type="range" class="slider" name="step-1-enter-your-familys-current-age-and-income-your-spouses-current-age" id="step-1-enter-your-familys-current-age-and-income-your-spouses-current-age" value="32" min="18" max="65" step="1" />
    </div>
    <div class="calculator-input">
      <label for="step-1-enter-your-familys-current-age-and-income-your-current-income-pre-tax" id="step-1-enter-your-familys-current-age-and-income-your-current-income-pre-tax-label">Your Current Income (pre-tax)</label><br />
      <span class="input-prefix">$</span>
      <input type="number" class="currency" name="step-1-enter-your-familys-current-age-and-income-your-current-income-pre-tax" id="step-1-enter-your-familys-current-age-and-income-your-current-income-pre-tax" value="60000" min="0" />
    </div>
    <div class="calculator-input for-spouse">
      <label for="step-1-enter-your-familys-current-age-and-income-your-spouses-current-income-pre-tax" id="step-1-enter-your-familys-current-age-and-income-your-spouses-current-income-pre-tax-label">Your Spouse's Current Income (pre-tax)</label><br />
      <span class="input-prefix">$</span>
      <input type="number" class="currency" name="step-1-enter-your-familys-current-age-and-income-your-spouses-current-income-pre-tax" id="step-1-enter-your-familys-current-age-and-income-your-spouses-current-income-pre-tax" value="45000" min="0" />
    </div>
    <div class="calculator-input">
      <label for="step-1-enter-your-familys-current-age-and-income-your-estimated-annual-raise" id="step-1-enter-your-familys-current-age-and-income-your-estimated-annual-raise-label">2.0% your estimated annual raise</label><br />
      <input type="range" class="slider slider--percent" name="step-1-enter-your-familys-current-age-and-income-your-estimated-annual-raise" id="step-1-enter-your-familys-current-age-and-income-your-estimated-annual-raise" value="0.02" min="0.0" max="0.1" step="0.005" />
    </div>
    <div class="calculator-input for-spouse">
      <label for="step-1-enter-your-familys-current-age-and-income-your-spouses-estimated-annual-raise" id="step-1-enter-your-familys-current-age-and-income-your-spouses-estimated-annual-raise-label">2.0% your spouse's estimated annual raise</label><br />
      <input type="range" class="slider slider--percent" name="step-1-enter-your-familys-current-age-and-income-your-spouses-estimated-annual-raise" id="step-1-enter-your-familys-current-age-and-income-your-spouses-estimated-annual-raise" value="0.02" min="0.0" max="0.1" step="0.005" />
    </div>
    <div class="calculator-input">
      <label for="step-1-enter-your-familys-current-age-and-income-current-retirement-savings" id="step-1-enter-your-familys-current-age-and-income-current-retirement-savings-label">Current Retirement Savings</label><br />
      <span class="input-prefix">$</span>
      <input type="number" class="currency" name="step-1-enter-your-familys-current-age-and-income-current-retirement-savings" id="step-1-enter-your-familys-current-age-and-income-current-retirement-savings" value="33000" min="0" />
    </div>
  </div>
  <div class="calculator-input-group" id="step-2-enter-your-familys-retirement-goals">
    <h4 class="calculator-group-title">Step 2: Enter your family's retirement goals</h4>
    <p class="description">
      This is where you input your goals and beliefs about the future
      <span class="detail-icon">
        ?
        <span class="detail">You can change assumptions below and see how it impacts your savings needs.</span>
      </span>
    </p>
    <div class="calculator-input">
      <label for="step-2-enter-your-familys-retirement-goals-your-target-retirement-age" id="step-2-enter-your-familys-retirement-goals-your-target-retirement-age-label">65 your target retirement age</label><br />
      <input type="range" class="slider" name="step-2-enter-your-familys-retirement-goals-your-target-retirement-age" id="step-2-enter-your-familys-retirement-goals-your-target-retirement-age" value="65" min="25" max="85" step="1" />
    </div>
    <div class="calculator-input for-spouse">
      <label for="step-2-enter-your-familys-retirement-goals-your-spouses-target-retirement-age" id="step-2-enter-your-familys-retirement-goals-your-spouses-target-retirement-age-label">365 your spouse's target retirement age</label><br />
      <input type="range" class="slider" name="step-2-enter-your-familys-retirement-goals-your-spouses-target-retirement-age" id="step-2-enter-your-familys-retirement-goals-your-spouses-target-retirement-age" value="65" min="25" max="85" step="1" />
    </div>
    <p class="description">
      Estimate your monthly spending in retirement - in today's dollars!
      <span class="detail-icon">
        ?
        <span class="detail">Inflation is already built in so you don't need to scale your estimates up. You can use your current expenses as a baseline, but remember that some expenses will change in retirement. Maybe by retirement you don't plan to have a mortgage! Or maybe you want to allocate more money towards travel and leisure expenses. Just try to estimate based on spending, not on your current income. Taxes will likely go down in retirement once you don't have regular income, so just dividing your current annual salary by 12 would likely overstate your needs.</span>
      </span>
    </p>
    <div class="calculator-input">
      <label for="step-2-enter-your-familys-retirement-goals-family-expected-monthly-retirement-expenses" id="step-2-enter-your-familys-retirement-goals-family-expected-monthly-retirement-expenses-label">Family Expected Monthly Retirement Expenses</label><br />
      <span class="input-prefix">$</span>
      <input type="number" class="currency" name="step-2-enter-your-familys-retirement-goals-family-expected-monthly-retirement-expenses" id="step-2-enter-your-familys-retirement-goals-family-expected-monthly-retirement-expenses" value="5500" min="0" />
    </div>
    <a class="link" href="https://smartmoneymamas.com/step-1-2-build-that-budget/">Don't have a sense of your regular spending? Click here to learn how to create a budget!</a>
  </div>
  <div class="calculator-input-group" id="step-3-estimate-social-security">
    <h4 class="calculator-group-title">Step 3: Estimate your Social Security benefits</h4>
    <p class="description">Social Security benefits are estimated below based on the 2017 benefit formula and only takes into account your current salary
      <span class="detail-icon">
        ?
        <span class="detail">If you won't have 35 years of earnings history when you retire, this is likely overstated. Be sure to use the 'haircut' function to reduce the estimate to a level that makes the you are comfortable with. If you want to assume no benefit from Social Security, put in a 100% haircut to remove it entirely.</span>
      </span>
    </p>
    <div class="calculator-result-field calculator-interim-result">Your Monthly Social Security (estimate): <span id="your-social-security-estimate"></span></div>
    <div class="calculator-result-field calculator-interim-result for-spouse">Your Spouse's Monthly Social Security (estimate): <span id="spouse-social-security-estimate"></span></div>
    <div class="calculator-input">
      <label for="step-2-enter-your-familys-retirement-goals-haircut-to-2017-social-security-benefit-estimate" id="step-2-enter-your-familys-retirement-goals-haircut-to-2017-social-security-benefit-estimate-label">30.0% haircut to 2017 social security benefit estimate</label><br />
      <input type="range" class="slider slider--percent" name="step-2-enter-your-familys-retirement-goals-haircut-to-2017-social-security-benefit-estimate" id="step-2-enter-your-familys-retirement-goals-haircut-to-2017-social-security-benefit-estimate" value="0.3" min="0.0" max="1.0" step="0.05" />
    </div>
    <div class="calculator-input for-spouse">
      <label for="step-2-enter-your-familys-retirement-goals-haircut-to-spouses-2017-social-security-benefit-estimate" id="step-2-enter-your-familys-retirement-goals-haircut-to-spouses-2017-social-security-benefit-estimate-label">40.0% haircut to spouse's 2017 social security benefit estimate</label><br />
      <input type="range" class="slider slider--percent" name="step-2-enter-your-familys-retirement-goals-haircut-to-spouses-2017-social-security-benefit-estimate" id="step-2-enter-your-familys-retirement-goals-haircut-to-spouses-2017-social-security-benefit-estimate" value="0.4" min="0.0" max="1.0" step="0.05" />
    </div>
    <a class="link" href="https://smartmoneymamas.com/understanding-social-security-payments/">Want to know how Social Security benefits work? Click here for the basics!</a>
  </div>
  <div class="calculator-input-group" id="step-4-estimate-market-and-inflation">
    <h4 class="calculator-group-title">Step 4: Estimate market returns and inflation</h4>
    <p class="description">
      Estimate what return you expect to get on your retirement investments
      <span class="detail-icon">
        ?
        <span class="detail">If you keep all cash or bonds, this number is going to be very low (0%-4%) which will increase your savings needs. If you are in almost all stocks, your returns should be higher over the long-term. For reference, the 100 year return of the S&P 500, with dividends re-invested, has been about 10%.</span>
      </span>
    </p>
    <div class="calculator-input">
      <label for="step-2-enter-your-familys-retirement-goals-expected-annual-investment-return" id="step-2-enter-your-familys-retirement-goals-expected-annual-investment-return-label">7.000000000000001% expected annual investment return</label><br />
      <input type="range" class="slider slider--percent" name="step-2-enter-your-familys-retirement-goals-expected-annual-investment-return" id="step-2-enter-your-familys-retirement-goals-expected-annual-investment-return" value="0.07" min="0.0" max="0.15" step="0.005" />
    </div>
    <p class="description">Input your estimate for inflation. About 2% has been the long-term average.</p>
    <div class="calculator-input">
      <label for="step-2-enter-your-familys-retirement-goals-inflation-estimate" id="step-2-enter-your-familys-retirement-goals-inflation-estimate-label">2.0% inflation estimate</label><br />
      <input type="range" class="slider slider--percent" name="step-2-enter-your-familys-retirement-goals-inflation-estimate" id="step-2-enter-your-familys-retirement-goals-inflation-estimate" value="0.02" min="0.0" max="0.08" step="0.0025" />
    </div>
    <a class="link" href="https://smartmoneymamas.com/definition-download-asset-allocation/">Need to know more about the essentials of asset allocation and investing? Click here!</a>
  </div>
  <div class="calculator-input-group" id="step-5-estimate-withdrawal-rate">
    <h4 class="calculator-group-title">Step 5: Estimate your withdrawal rate</h4>
    <p class="description">
      Advanced: Set a withdrawal rate you are comfortable with
      <span class="detail-icon">
        ?
        <span class="detail">Your withdrawal rate is what percentage of your savings you need to withdraw per year to live in retirement. Backtesting has not shown a period where a 4% withdrawal rate depleted a nest egg in less than 33 years. As such, it has become the baseline for retirees. But a 3% withdrawal rate is even safer, while a 5% rate is more aggressive and could be depleted within your lifetime if the market moves against you.</span>
      </span>
    </p>
    <div class="calculator-input">
      <label for="step-2-enter-your-familys-retirement-goals-withdrawal-rate" id="step-2-enter-your-familys-retirement-goals-withdrawal-rate-label">4.0% withdrawal rate</label><br />
      <input type="range" class="slider slider--percent" name="step-2-enter-your-familys-retirement-goals-withdrawal-rate" id="step-2-enter-your-familys-retirement-goals-withdrawal-rate" value="0.04" min="0.0025" max="0.08" step="0.0025" />
    </div>
  </div>
  <div class="calculator-input-group" id="step-6-see-how-much-you-need-to-save">
    <h4 class="calculator-group-title">Step 6: See how much you need to save</h4>
    <div class="calculator-result-field calculator-interim-result">Savings Target: <span id="retirement-savings-target"></span></div>
    <p class="calculator-result-text">To sustain yourself through retirement, you need to reach <span id="retirement-savings-target-2"></span> in savings by age <span id="retirement-age-target"></span>.</p>
  </div>
  <div class="calculator-input-group" id="step-7-discover-the-percentage-of-your-pre-tax-income-your-family-needs-to-save-for-retirement">
    <h4 class="calculator-group-title">Step 7: Discover the percentage of your pre-tax income your family needs to save for retirement!</h4>
    <p class="description">
      Based on your assumptions entered above, this is the percentage of your family's income you need to be saving between now and retirement to reach your goals
      <span class="detail-icon">
        ?
        <span class="detail">Remember, if you have employer match in your 401(k), that counts towards your goal!</span>
      </span>
    </p>
    <div class="calculator-result-field calculator-interim-result">Pre-Tax Savings Rate: <span id="savings-rate-target"></span></div>
    <p class="calculator-result-text">Based on your annual investment return estimate, your family needs to save <span id="savings-rate-target-2"></span> of your total pre-tax income. For this year, that means <span id="monthly-savings-target">$1118</span> per month.  Be sure to reduce this target percentage by any employer retirement savings match!</p>
  </div>
  <div class="calculator-input-group" id="bonus-how-would-your-retirement-accounts-look-over-time">
    <h4 class="calculator-group-title">Bonus: How would your retirement accounts look over time?</h4>
    <p class="description">
      Your retirement accounts will grow from investment returns and new contributions over time, then deplete through retirement based on your withdrawal rate
      <span class="detail-icon">
        ?
        <span class="detail">Enter your estimated investment return during retirement below (usually lower than your pre-retirement rate as you move your nest egg into more conservative investments) to see what your trajectory would look like based on your assumptions.</span>
      </span>
    </p>
    <div class="calculator-input">
      <label for="bonus-how-would-your-retirement-accounts-look-over-time-expected-investment-return-post-retirement" id="bonus-how-would-your-retirement-accounts-look-over-time-expected-investment-return-post-retirement-label">4.0% expected investment return - post-retirement</label><br />
      <input type="range" class="slider slider--percent" name="bonus-how-would-your-retirement-accounts-look-over-time-expected-investment-return-post-retirement" id="bonus-how-would-your-retirement-accounts-look-over-time-expected-investment-return-post-retirement" value="0.04" min="0.0" max="0.15" step="0.005" />
    </div>
  </div>
  <div class="calculator-input-group">
    <div class="calculator-button-container">
      <button class="calculator-button" id="calculator-details-button">Click to Show Detailed Results ↓</button>
    </div>
  </div>
  <div class="calculator-input-group">
    <div class="chart" id="balance-chart" style="width: 100%;" >Family Retirement Asset Projection</div>
  </div>
  <div class="calculator-input-group" id="">
    <div class="disclaimer"><strong>Disclaimer:</strong> This tool is meant to help you estimate your family's needs, not guarantee results or incorporate all variables that will inevitably shift between now and your retirement age. Please use this as a guide, not an exact figure of your needs. Previous market performance does not guarantee future results and your retirement accounts will almost certainly not increase or decrease in a smooth curve, but will vary with the markets.</div>
  </div>
</div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script><script type="text/javascript">let chartInitialized=false; let showDetails=false; document.addEventListener('DOMContentLoaded', ()=>{console.log("Calculator js running"); function tag(type, value=undefined, klass=undefined, id=undefined){let el=document.createElement(type); if (klass){el.setAttribute('class', klass);}if (id){el.setAttribute('id', id);}if (value){el.innerText=value;}return el;}function toPercent(value, digits=2){return (value * 100.0).toLocaleString(undefined,{minimumFractionDigits: digits, maximumFractionDigits: digits}) + "%";}function toCurrency(value, digits=2){if (value==0){return '-';}else{return '$' + value.toLocaleString(undefined,{minimumFractionDigits: digits, maximumFractionDigits: digits});}}function socialSecurityEstimate(monthlyIncome){/* 90% of your first $885 of AIME, PLUS 32% of your AIME over $885 but less than $5,336, PLUS 15% of your AIME over $5,336 up to the max of $10,600 Overall maximum of $2,639 */ let accrued=0; if (monthlyIncome > 10600){monthlyIncome=10600;}if (monthlyIncome >=5336){accrued=accrued + 0.15 * (monthlyIncome - 5336); monthlyIncome=5336;}if (monthlyIncome >=885){accrued=accrued + 0.32 * (monthlyIncome - 885);}accrued=accrued + 0.9 * 885; return Math.min(accrued, 2639);}function simulateYearForPerson(year, person, inflation){retired=person.startingAge + year > person.targetAge; income=person.startingIncome * Math.pow(1 + person.raiseRate, year); ssContribution=socialSecurityEstimate(person.startingIncome / 12.0) * Math.pow(1.0 + inflation, year) * (1.0 - person.ssHaircut); return{year: year, age: person.startingAge + year, retired: retired, income: retired ? 0.0 : income, ssContribution: ssContribution * 12.0};}function futureValue(payment, returnRate, increaseRate, years){if (returnRate==increaseRate){return payment * years * Math.pow(1 + returnRate, years - 1);}else{let numerator=Math.pow(1 + returnRate, years) - Math.pow(1 + increaseRate, years); let denomenator=(returnRate - increaseRate); return payment * numerator / denomenator;}}function retirementSavingsYearEnd(currentRetirementSavings, yourYear, spousesYear, expensesForYear, assumptions){const yourContribution=yourYear.income * assumptions.savingsRate; const spousesContribution=spousesYear.income * assumptions.savingsRate; const year=yourYear.year; const rawInterest=(yourYear.retired || spousesYear.retired) ? assumptions.assetGrowthRateRetirement : assumptions.assetGrowthRateWorking; const includeInterest=year > 0; const interest=includeInterest ? rawInterest : 0; const expensesDrawn=(yourYear.retired || spousesYear.retired) ? expensesForYear - yourYear.ssContribution - spousesYear.ssContribution : 0; return currentRetirementSavings * (1 + interest) + yourContribution + spousesContribution - expensesDrawn;}function expensesForYear(year, assumptions){return assumptions.startingMonthlyExpenses * Math.pow(1 + assumptions.inflation, year) * 12;}function retirementSavingsNeeded(year, expenses, yourYear, spousesYear, assumptions){const netAnnualExpenses=expenses - (yourYear.ssContribution + spousesYear.ssContribution); return netAnnualExpenses / assumptions.safeWithdrawalRate;}function simulateYear(year, currentRetirementSavings, you, spouse, assumptions){let yourYear=simulateYearForPerson(year, you, assumptions.inflation); let spousesYear=simulateYearForPerson(year, spouse, assumptions.inflation); let expenses=expensesForYear(year, assumptions); let resultingRetirementSavings=retirementSavingsYearEnd(currentRetirementSavings, yourYear, spousesYear, expenses, assumptions); let targetedRetirementSavings=retirementSavingsNeeded(year, expenses, yourYear, spousesYear, assumptions); result={year: year, yourAge: yourYear.age, spouseAge: spousesYear.age, yearEndRetirementSavings: resultingRetirementSavings, retirementSavingsAchieved: resultingRetirementSavings > targetedRetirementSavings}; return result;}console.log("Calculator helper functions loaded"); const calculator=document.querySelector('#target-retirement-savings-rate-calculator'); if (calculator){console.log("Calculator found"); const inputs=calculator.querySelectorAll('input'); const spouseFields=calculator.querySelectorAll('.for-spouse'); const selects=calculator.querySelectorAll('select'); const detailedDescriptions=calculator.querySelectorAll('p.detailed-description'); const currencyInputs=calculator.querySelectorAll('input.currency'); const yourCurrentAgeInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-your-current-age'); const yourCurrentAgeLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-your-current-age-label'); const yourCurrentIncomepretaxInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-your-current-income-pre-tax'); const yourCurrentIncomepretaxLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-your-current-income-pre-tax-label'); const yourEstimatedAnnualRaiseInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-your-estimated-annual-raise'); const yourEstimatedAnnualRaiseLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-your-estimated-annual-raise-label'); const yourSpousesCurrentAgeInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-your-spouses-current-age'); const yourSpousesCurrentAgeLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-your-spouses-current-age-label'); const yourSpousesCurrentIncomepretaxInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-your-spouses-current-income-pre-tax'); const yourSpousesCurrentIncomepretaxLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-your-spouses-current-income-pre-tax-label'); const yourSpousesEstimatedAnnualRaiseInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-your-spouses-estimated-annual-raise'); const yourSpousesEstimatedAnnualRaiseLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-your-spouses-estimated-annual-raise-label'); const currentRetirementSavingsInput=calculator.querySelector('input#step-1-enter-your-familys-current-age-and-income-current-retirement-savings'); const currentRetirementSavingsLabel=calculator.querySelector('#step-1-enter-your-familys-current-age-and-income-current-retirement-savings-label'); const yourTargetRetirementAgeInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-your-target-retirement-age'); const yourTargetRetirementAgeLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-your-target-retirement-age-label'); const yourSpousesTargetRetirementAgeInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-your-spouses-target-retirement-age'); const yourSpousesTargetRetirementAgeLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-your-spouses-target-retirement-age-label'); const familyExpectedMonthlyRetirementExpensesInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-family-expected-monthly-retirement-expenses'); const familyExpectedMonthlyRetirementExpensesLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-family-expected-monthly-retirement-expenses-label'); const haircutTo2017SocialSecurityBenefitEstimateInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-haircut-to-2017-social-security-benefit-estimate'); const haircutTo2017SocialSecurityBenefitEstimateLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-haircut-to-2017-social-security-benefit-estimate-label'); const haircutToSpouses2017SocialSecurityBenefitEstimateInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-haircut-to-spouses-2017-social-security-benefit-estimate'); const haircutToSpouses2017SocialSecurityBenefitEstimateLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-haircut-to-spouses-2017-social-security-benefit-estimate-label'); const expectedAnnualInvestmentReturnInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-expected-annual-investment-return'); const expectedAnnualInvestmentReturnLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-expected-annual-investment-return-label'); const inflationEstimateInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-inflation-estimate'); const inflationEstimateLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-inflation-estimate-label'); const withdrawalRateInput=calculator.querySelector('input#step-2-enter-your-familys-retirement-goals-withdrawal-rate'); const withdrawalRateLabel=calculator.querySelector('#step-2-enter-your-familys-retirement-goals-withdrawal-rate-label'); const expectedInvestmentReturnPostretirementInput=calculator.querySelector('input#bonus-how-would-your-retirement-accounts-look-over-time-expected-investment-return-post-retirement'); const expectedInvestmentReturnPostretirementLabel=calculator.querySelector('#bonus-how-would-your-retirement-accounts-look-over-time-expected-investment-return-post-retirement-label'); function updateResults(){const yourCurrentAge=parseFloat(yourCurrentAgeInput.value) || 0; const yourCurrentIncomepretax=parseFloat(yourCurrentIncomepretaxInput.value) || 0; const yourEstimatedAnnualRaise=parseFloat(yourEstimatedAnnualRaiseInput.value) || 0; const yourSpousesCurrentAge=parseFloat(yourSpousesCurrentAgeInput.value) || 0; const yourSpousesCurrentIncomepretax=parseFloat(yourSpousesCurrentIncomepretaxInput.value) || 0; const yourSpousesEstimatedAnnualRaise=parseFloat(yourSpousesEstimatedAnnualRaiseInput.value) || 0; const currentRetirementSavings=parseFloat(currentRetirementSavingsInput.value) || 0; const yourTargetRetirementAge=parseFloat(yourTargetRetirementAgeInput.value) || 0; const yourSpousesTargetRetirementAge=parseFloat(yourSpousesTargetRetirementAgeInput.value) || 0; const familyExpectedMonthlyRetirementExpenses=parseFloat(familyExpectedMonthlyRetirementExpensesInput.value) || 0; const haircutTo2017SocialSecurityBenefitEstimate=parseFloat(haircutTo2017SocialSecurityBenefitEstimateInput.value) || 0; const haircutToSpouses2017SocialSecurityBenefitEstimate=parseFloat(haircutToSpouses2017SocialSecurityBenefitEstimateInput.value) || 0; const expectedAnnualInvestmentReturn=parseFloat(expectedAnnualInvestmentReturnInput.value) || 0; const inflationEstimate=parseFloat(inflationEstimateInput.value) || 0; const withdrawalRate=parseFloat(withdrawalRateInput.value) || 0; const expectedInvestmentReturnPostretirement=parseFloat(expectedInvestmentReturnPostretirementInput.value) || 0; yourCurrentAgeLabel.innerHTML="Your current age: " + yourCurrentAge ; yourEstimatedAnnualRaiseLabel.innerHTML="Your estimated annual raise: " + (yourEstimatedAnnualRaise * 100).toFixed(1) + "%" ; yourSpousesCurrentAgeLabel.innerHTML="Your spouse's current age: " + yourSpousesCurrentAge ; yourSpousesEstimatedAnnualRaiseLabel.innerHTML="Your spouse's estimated annual raise: " + (yourSpousesEstimatedAnnualRaise * 100).toFixed(1) + "%" ; yourTargetRetirementAgeLabel.innerHTML="Your target retirement age: " + yourTargetRetirementAge; yourSpousesTargetRetirementAgeLabel.innerHTML="Your spouse's target retirement age: " + yourSpousesTargetRetirementAge; haircutTo2017SocialSecurityBenefitEstimateLabel.innerHTML="Haircut to your 2017 Social Security benefit estimate: " + (haircutTo2017SocialSecurityBenefitEstimate * 100).toFixed(0) + "%"; haircutToSpouses2017SocialSecurityBenefitEstimateLabel.innerHTML="Haircut to your spouse's 2017 Social Security benefit estimate: " + (haircutToSpouses2017SocialSecurityBenefitEstimate * 100).toFixed(0) + "%"; expectedAnnualInvestmentReturnLabel.innerHTML="Expected annual investment return: " + (expectedAnnualInvestmentReturn * 100).toFixed(1) + "%" ; inflationEstimateLabel.innerHTML="Inflation estimate: " + (inflationEstimate * 100).toFixed(2) + "%" ; withdrawalRateLabel.innerHTML="Withdrawal rate: " + (withdrawalRate * 100).toFixed(2) + "%" ; expectedInvestmentReturnPostretirementLabel.innerHTML="Expected investment return - post-retirement: " + (expectedInvestmentReturnPostretirement * 100).toFixed(1) + "%" ; yourCurrentIncomepretaxLabel.innerHTML="Your Current Income (pre-tax)"; yourSpousesCurrentIncomepretaxLabel.innerHTML="Your Spouse's Current Income (pre-tax)"; currentRetirementSavingsLabel.innerHTML="Current Retirement Savings"; familyExpectedMonthlyRetirementExpensesLabel.innerHTML="Family Expected Monthly Retirement Expenses"; if (yourCurrentAge < 18){yourCurrentAgeLabel.appendChild(tag('span', "Set your current age greater than 18", 'result-error')); return;}if (yourCurrentAge > 65){yourCurrentAgeLabel.appendChild(tag('span', "Set your current age less than 65", 'result-error')); return;}if (yourCurrentIncomepretax < 0){yourCurrentIncomepretaxLabel.appendChild(tag('span', "Set your current income (pre-tax) greater than 0", 'result-error')); return;}if (yourEstimatedAnnualRaise < 0.0){yourEstimatedAnnualRaiseLabel.appendChild(tag('span', "Set your estimated annual raise greater than 0.0%", 'result-error')); return;}if (yourEstimatedAnnualRaise > 0.1){yourEstimatedAnnualRaiseLabel.appendChild(tag('span', "Set your estimated annual raise less than 10.0%", 'result-error')); return;}if (yourSpousesCurrentAge < 18){yourSpousesCurrentAgeLabel.appendChild(tag('span', "Set your spouse's current age greater than 18", 'result-error')); return;}if (yourSpousesCurrentAge > 65){yourSpousesCurrentAgeLabel.appendChild(tag('span', "Set your spouse's current age less than 65", 'result-error')); return;}if (yourSpousesCurrentIncomepretax < 0){yourSpousesCurrentIncomepretaxLabel.appendChild(tag('span', "Set your spouse's current income (pre-tax) greater than 0", 'result-error')); return;}if (yourSpousesEstimatedAnnualRaise < 0.0){yourSpousesEstmatedAnnualRaiseLabel.appendChild(tag('span', "Set your spouse's estimated annual raise greater than 0.0%", 'result-error')); return;}if (yourSpousesEstimatedAnnualRaise > 0.1){yourSpousesEstmatedAnnualRaiseLabel.appendChild(tag('span', "Set your spouse's estimated annual raise less than 10.0%", 'result-error')); return;}if (currentRetirementSavings < 0){currentRetirementSavingsLabel.appendChild(tag('span', "Set current retirement savings greater than 0", 'result-error')); return;}if (yourTargetRetirementAge < 25){yourTargetRetirementAgeLabel.appendChild(tag('span', "Set your target retirement age greater than 25", 'result-error')); return;}if (yourTargetRetirementAge > 85){yourTargetRetirementAgeLabel.appendChild(tag('span', "Set your target retirement age less than 85", 'result-error')); return;}if (yourSpousesTargetRetirementAge < 25){yourSpousesTargetRetirementAgeLabel.appendChild(tag('span', "Set your spouse's target retirement age greater than 25", 'result-error')); return;}if (yourSpousesTargetRetirementAge > 85){yourSpousesTargetRetirementAgeLabel.appendChild(tag('span', "Set your spouse's target retirement age less than 85", 'result-error')); return;}if (familyExpectedMonthlyRetirementExpenses < 0){familyExpectedMonthlyRetirementExpensesLabel.appendChild(tag('span', "Set family expected monthly retirement expenses greater than 0", 'result-error')); return;}if (haircutTo2017SocialSecurityBenefitEstimate < 0.0){haircutTo2017SocialSecurityBenefitEstimateLabel.appendChild(tag('span', "Set haircut to 2017 social security benefit estimate greater than 0.0%", 'result-error')); return;}if (haircutTo2017SocialSecurityBenefitEstimate > 1.0){haircutTo2017SocialSecurityBenefitEstimateLabel.appendChild(tag('span', "Set haircut to 2017 social security benefit estimate less than 100.0%", 'result-error')); return;}if (haircutToSpouses2017SocialSecurityBenefitEstimate < 0.0){haircutToSpouses2017SocialSecurityBenefitEstimateLabel.appendChild(tag('span', "Set haircut to spouse's 2017 social security benefit estimate greater than 0.0%", 'result-error')); return;}if (haircutToSpouses2017SocialSecurityBenefitEstimate > 1.0){haircutToSpouses2017SocialSecurityBenefitEstimateLabel.appendChild(tag('span', "Set haircut to spouse's 2017 social security benefit estimate less than 100.0%", 'result-error')); return;}if (expectedAnnualInvestmentReturn < 0.0){expectedAnnualInvestmentReturnLabel.appendChild(tag('span', "Set expected annual investment return greater than 0.0%", 'result-error')); return;}if (expectedAnnualInvestmentReturn > 0.15){expectedAnnualInvestmentReturnLabel.appendChild(tag('span', "Set expected annual investment return less than 15.0%", 'result-error')); return;}if (inflationEstimate < 0.0){inflationEstimateLabel.appendChild(tag('span', "Set inflation estimate greater than 0.0%", 'result-error')); return;}if (inflationEstimate > 0.08){inflationEstimateLabel.appendChild(tag('span', "Set inflation estimate less than 8.0%", 'result-error')); return;}if (withdrawalRate < 0.0025){withdrawalRateLabel.appendChild(tag('span', "Set withdrawal rate greater than 0.25%", 'result-error')); return;}if (withdrawalRate > 0.08){withdrawalRateLabel.appendChild(tag('span', "Set withdrawal rate less than 8.0%", 'result-error')); return;}if (expectedInvestmentReturnPostretirement < 0.0){expectedInvestmentReturnPostretirementLabel.appendChild(tag('span', "Set expected investment return - post-retirement greater than 0.0%", 'result-error')); return;}if (expectedInvestmentReturnPostretirement > 0.15){expectedInvestmentReturnPostretirementLabel.appendChild(tag('span', "Set expected investment return - post-retirement less than 15.0%", 'result-error')); return;}if (yourCurrentAge >=yourTargetRetirementAge){error='Set your target retirement age greater than your current age'; yourCurrentAgeLabel.appendChild(tag('span', error, 'result-error')); yourTargetRetirementAgeLabel.appendChild(tag('span', error, 'result-error')); return;}if (yourSpousesCurrentAge >=yourSpousesTargetRetirementAge){error="Set your spouse's target retirement age greater than your spouse's current age"; yourSpousesCurrentAgeLabel.appendChild(tag('span', error, 'result-error')); yourSpousesTargetRetirementAgeLabel.appendChild(tag('span', error, 'result-error')); return;}/* Update social security numbers */ const yourSocialSecurityResult=calculator.querySelector('#your-social-security-estimate'); const spouseSocialSecurityResult=calculator.querySelector('#spouse-social-security-estimate'); let yourSocialSecurityEstimate=socialSecurityEstimate(yourCurrentIncomepretax / 12); let spouseSocialSecurityEstimate=socialSecurityEstimate(yourSpousesCurrentIncomepretax / 12); yourSocialSecurityResult.innerHTML=toCurrency(yourSocialSecurityEstimate, 0); spouseSocialSecurityResult.innerHTML=toCurrency(spouseSocialSecurityEstimate, 0); /* Create objects for computation */ const you={startingAge: yourCurrentAge, targetAge: yourTargetRetirementAge, startingIncome: yourCurrentIncomepretax, raiseRate: yourEstimatedAnnualRaise, ssHaircut: haircutTo2017SocialSecurityBenefitEstimate}; const spouse={startingAge: yourSpousesCurrentAge, targetAge: yourSpousesTargetRetirementAge, startingIncome: yourSpousesCurrentIncomepretax, raiseRate: yourSpousesEstimatedAnnualRaise, ssHaircut: haircutToSpouses2017SocialSecurityBenefitEstimate}; let assumptions={startingMonthlyExpenses: familyExpectedMonthlyRetirementExpenses, inflation: inflationEstimate, safeWithdrawalRate: withdrawalRate, assetGrowthRateWorking: expectedAnnualInvestmentReturn, assetGrowthRateRetirement: expectedInvestmentReturnPostretirement}; /* Update retirement savings goal target */ const yearsToRetirement=yourTargetRetirementAge - yourCurrentAge; const retirementYearExpenses=expensesForYear(yearsToRetirement, assumptions); const yourRetirementYear=simulateYearForPerson(yearsToRetirement, you, assumptions.inflation); const spousesRetirementYear=simulateYearForPerson(yearsToRetirement, spouse, assumptions.inflation); const retirementSavingsTarget=retirementSavingsNeeded(yearsToRetirement, retirementYearExpenses, yourRetirementYear, spousesRetirementYear, assumptions); const retirementSavingsTargetResult=calculator.querySelector('#retirement-savings-target'); const retirementSavingsTarget2Result=calculator.querySelector('#retirement-savings-target-2'); const retirementAgeTargetResult=calculator.querySelector('#retirement-age-target'); retirementSavingsTargetResult.innerHTML=toCurrency(retirementSavingsTarget, 0); retirementSavingsTarget2Result.innerHTML=toCurrency(retirementSavingsTarget, 0); retirementAgeTargetResult.innerHTML=yourTargetRetirementAge; /* Compute Needed Savings Rate */ futureYou=futureValue(you.startingIncome, assumptions.assetGrowthRateWorking, you.raiseRate, yearsToRetirement + 1); futureSpouse=futureValue(spouse.startingIncome, assumptions.assetGrowthRateWorking, spouse.raiseRate, yearsToRetirement + 1); futureStarting=currentRetirementSavings * Math.pow(1 + assumptions.assetGrowthRateWorking, yearsToRetirement); let savingsRateNeeded=(retirementSavingsTarget - futureStarting) / (futureYou + futureSpouse); if (savingsRateNeeded < 0){savingsRateNeeded=0;}assumptions.savingsRate=savingsRateNeeded; const savingsRateTarget=calculator.querySelector('#savings-rate-target'); const savingsRateTarget2=calculator.querySelector('#savings-rate-target-2'); savingsRateTarget.innerHTML=toPercent(savingsRateNeeded, 1); savingsRateTarget2.innerHTML=toPercent(savingsRateNeeded, 1); const firstMonthSavingsTarget=savingsRateNeeded * (you.startingIncome + spouse.startingIncome) / 12.0; const monthlySavingsTarget=calculator.querySelector('#monthly-savings-target'); monthlySavingsTarget.innerHTML=toCurrency(firstMonthSavingsTarget, 0); document.getElementById('balance-chart').innerHTML=""; if (showDetails){/* Simulate years */ let simulatedYears=new Array; let simulatedRetirementSavings=currentRetirementSavings; const maxAge=120; const minBalance=0.0; const maxDataPoints=120; for (let i=0; i < maxDataPoints; i +=1){simulatedYear=simulateYear(i, simulatedRetirementSavings, you, spouse, assumptions); if (simulatedYear.yearEndRetirementSavings < minBalance){break;}if (simulatedYear.yourAge > 120 || simulatedYear.spouseAge > 120){break;}simulatedRetirementSavings=simulatedYear.yearEndRetirementSavings; simulatedYears[i]=simulatedYear}drawChart(simulatedYears);}/* retirementSavingsValues */}const marriedCheckbox=document.querySelector('#married-checkbox'); marriedCheckbox.addEventListener('input', ()=>{married=marriedCheckbox.checked; if (married){console.log('married'); yourSpousesCurrentIncomepretaxInput.value=0; haircutToSpouses2017SocialSecurityBenefitEstimateInput.value=0.40; for (let i=0; i < spouseFields.length; i +=1){spouseFields[i].style.display='initial';}}else{console.log('not married'); yourSpousesCurrentIncomepretaxInput.value=0; haircutToSpouses2017SocialSecurityBenefitEstimateInput.value=1.0; for (let i=0; i < spouseFields.length; i +=1){spouseFields[i].style.display='none';}}showDetails=false; detailButton.innerHTML='Click to Show Asset Chart ↓'; updateResults();}); const detailButton=document.querySelector('#calculator-details-button'); detailButton.addEventListener('click', (event)=>{event.preventDefault(); if (showDetails){showDetails=false; detailButton.innerHTML='Click to Show Asset Chart ↓'; updateResults();}else{showDetails=true; detailButton.innerHTML='Click to Hide Asset Chart ↑'; updateResults();}}); /* Set calculator to auto-update on input changes */ for (let i=0; i < inputs.length; i +=1){inputs[i].addEventListener('input', ()=>{showDetails=false; detailButton.innerHTML='Click to Show Asset Chart ↓'; updateResults();});}for (let i=0; i < selects.length; i +=1){selects[i].addEventListener('input', ()=>{showDetails=false; detailButton.innerHTML='Click to Show Asset Chart ↓'; updateResults();});}function chartReady(){chartInitialized=true; updateResults();}function drawChart(data){if (chartInitialized){let balanceTable=new google.visualization.DataTable(); balanceTable.addColumn('number', 'Your Age'); balanceTable.addColumn('number', 'Family Retirement Asset Projection'); for (let i=0; i < data.length; i +=1){dataRow=data[i]; balanceTable.addRows([[{v: dataRow.yourAge, f: "Age (you/spouse): " + dataRow.yourAge + " / " + dataRow.spouseAge},{v: Math.round(dataRow.yearEndRetirementSavings / 1000), f: toCurrency(Math.round(dataRow.yearEndRetirementSavings / 1000), 0) + 'k'},]]);}let baseOptions={title: "Family Retirement Asset Projection", animation:{duration: 100, startup: true, easing: 'inAndOut'}, colors:[ "#34b3b7"], chartArea:{left: '20%', top: '10%', width: '70%', height: '70%'}, hAxis:{maxValue: data[data.length - 1].yourAge, minValue: data[0].yourAge}, height: 400, legend:{position: 'none'}, titleTextStyle:{fontName: 'Open Sans', fontSize: 18}, vAxis:{format: '$#,###k', minValue: 0},}; balanceChartElement=new google.visualization.AreaChart(document.getElementById('balance-chart')); balanceChartElement.draw(balanceTable, baseOptions);}}google.charts.load('current',{'packages':['corechart']}); google.charts.setOnLoadCallback(chartReady); /* Update on load */ updateResults();}});</script>
</body>
</html>
